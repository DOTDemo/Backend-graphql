types: ./types.graphql

functions:
  signup:
    type: resolver
    schema: src/extensions/signup/signup.graphql
    handler:
      code: 
        src: src/extensions/signup/signup.ts

  authenticate:
    type: resolver
    schema: src/extensions/authenticate/authenticate.graphql
    handler:
      code: 
        src: src/extensions/authenticate/authenticate.ts

  loggedInUser:
    type: resolver
    schema: src/extensions/loggedInUser/loggedInUser.graphql
    handler:
      code: 
        src: src/extensions/loggedInUser/loggedInUser.ts

  updatePassword:
    type: resolver
    schema: src/extensions/updatePassword/updatePassword.graphql
    handler:
      code: 
        src: src/extensions/updatePassword/updatePassword.ts
   
  updateEmail:
    type: resolver
    schema: src/extensions/updateEmail/updateEmail.graphql
    handler:
      code: 
        src: src/extensions/updateEmail/updateEmail.ts
  
  passwordResetToken:
    type: resolver
    schema: ./src/extensions/passwordResetToken/passwordResetToken.graphql
    handler:
      code:
        src: ./src/extensions/passwordResetToken/passwordResetToken.ts
  
  passwordResetEmail:
    type: resolver
    schema: ./src/extensions/passwordResetEmail/passwordResetEmail.graphql
    handler:
      code:
        src: ./src/extensions/passwordResetEmail/passwordResetEmail.ts
  
permissions:
  #User
  - operation: User.read
    fields: 
      - id 
      - email 
      - createdAt
      - updatedAt
  - operation: User.create
    authenticated: true
  - operation: User.update
    authenticated: true
  - operation: User.delete
    authenticated: true

rootTokens: 
  - signup
  - authenticate
  - loggedInUser
  - updatePassword
  - updateEmail
  - PasswordResetEmail
  - passwordResetToken

